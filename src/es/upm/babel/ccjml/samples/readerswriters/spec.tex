\begin{ctadsol}
  \nombrectad{ReadersWriters}
%
  \operaciones
  \operacion{BeforeRead}{\void}
  \operacion{AfterRead}{\void}
  \operacion{BeforeWrite}{\void}
  \operacion{AfterWrite}{\void}
%
  % \protoconc
  % {
  %   Read: BeforeRead; AfterRead \\
  %   Write: BeforeWrite; AfterWrite
  %   }
  % {Read*}
%
  \semdom
  \estado{RW = (readers \nat \por writers: \nat)}
  \invariante{(readers > 0 \rightarrow writers = 0) \land \\
              (writers = 1 \rightarrow readers = 0) \land \\
              (writers = 0 \lor writers = 1)}
  \inicial{\self}{writers = 0 \land readers = 0}

  \cpre{writers = 0}
  \nomop{BeforeRead}
  \post{readers\sal = 1 + readers\ent}

  \pre{reader > 0}
  \cpre{true}
  \nomop{AfterRead}
  \post{readers\sal = readers\ent - 1}

  \cpre{writers = 0 \land readers= 0}
  \nomop{BeforeWrite}
  \post{writers\sal = 1}

  \pre{writers = 1}
  \cpre{true}
  \nomop{AfterWrite}
  \post{writers\sal = 0}
\end{ctadsol}
